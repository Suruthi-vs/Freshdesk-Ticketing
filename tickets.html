<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="index.css">
    <title>Freshddesk</title>
    <style>
      input{
          padding:10px 10px 10px 10px;
          width: 60%;
      }
      #status{
        padding:10px 10px 10px 10px;
        width:60%;
      }
      #priority{
        padding:10px 10px 10px 10px;
        width:60%;
      }
      .submit{
          margin: 40px 10px 10px 300px;
      }
    </style>
</head>
<body>
    <div class="container1">
     
        <a href="view.html">View Ticket</a>
        <a href="tickets.html">New Ticket</a>
        <a href="index.html">Dashboard</a>
    </div>
    <div class="container2">
    <div class="info">
        <h4>Subject</h4>
        <input type="text" placeholder="subject" id="subject"><br>
    </div>
    <div class="info">
        <h4>Status</h4>
        <select id="status" name="status"><br>
          <option value=1>Open</option>
          <option value=2>Pending</option>
          <option value=3>Resolved</option>
          <option value=4>Closed</option>
        </select>
    </div>
    <div class="info">
        <h4>Priority</h4>
        <select id="priority" name="priority"><br>
          <option value=1>Low</option>
          <option value=2>Medium</option>
          <option value=3>High</option>
          <option value=4>Urgent</option>
        </select>
    </div>
     <div class="des-info">
     <h4>Description</h4>
     <input type="text" placeholder="Description" id="descrip" style="padding-bottom: 40px;"><br>
     </div>
     <button type="button" value="Submit" class="submit" onclick="data()">Submit</button>
    </div>
    <script>
        async function data(){
     let sub=document.getElementById("subject").value;
      let sta=parseInt(document.getElementById("status").value);
      let pri=parseInt(document.getElementById("priority").value);
      let des=document.getElementById("descrip").value;
      if(des!="" && sub!="")
      {
const url="https://suruthisuji13.freshdesk.com/api/v2/tickets";
     const response= await fetch(url, {
method:'POST',
headers: {
        "Authorization": "Basic " + btoa("LIzofDrv56UJdEllUc60" + ":" + "x"),
      'Accept': 'application/json',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({requester_id:81007080900,status:sta,subject:sub,description:des,priority:pri})
})
alert("ticket submitted successfully");
document.getElementById("subject").value="";
document.getElementById("descrip").value="";
//document.getElementById("RequestId").value=null
}
else{
alert("please fill all the details");
}
}

    </script>
</body>
</html>